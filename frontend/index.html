<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üí∞ –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Ç—Ä–µ–∫–µ—Ä</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <!-- –®–∞–ø–∫–∞ -->
        <header class="header">
            <h1>üí∞ –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Ç—Ä–µ–∫–µ—Ä</h1>
            <div class="header-controls">
                <div class="period-selector">
                    <select id="periodSelect">
                        <option value="today">–°–µ–≥–æ–¥–Ω—è</option>
                        <option value="week">–¢–µ–∫—É—â–∞—è –Ω–µ–¥–µ–ª—è</option>
                        <option value="month" selected>–¢–µ–∫—É—â–∏–π –º–µ—Å—è—Ü</option>
                        <option value="quarter">–¢–µ–∫—É—â–∏–π –∫–≤–∞—Ä—Ç–∞–ª</option>
                        <option value="year">–¢–µ–∫—É—â–∏–π –≥–æ–¥</option>
                        <option value="all">–í—Å–µ –≤—Ä–µ–º—è</option>
                        <option value="custom">–ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥</option>
                    </select>
                    <div id="customDateRange" class="custom-dates" style="display: none;">
                        <input type="date" id="startDate">
                        <input type="date" id="endDate">
                        <button onclick="applyCustomDates()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                    </div>
                </div>
                <div class="view-toggle">
                    <label>
                        <input type="radio" name="view" value="main" checked onchange="switchView('main')">
                        –û—Å–Ω–æ–≤–Ω–∞—è
                    </label>
                    <label>
                        <input type="radio" name="view" value="savings" onchange="switchView('savings')">
                        –ö–æ–ø–∏–ª–∫–∞
                    </label>
                </div>
            </div>
        </header>

        <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
        <div class="stats-cards">
            <!-- –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <div class="stat-card income main-view">
                <h3>–î–æ—Ö–æ–¥—ã</h3>
                <p id="totalIncome" class="amount">0 ‚ÇΩ</p>
            </div>
            <div class="stat-card expense main-view">
                <h3>–†–∞—Å—Ö–æ–¥—ã</h3>
                <p id="totalExpense" class="amount">0 ‚ÇΩ</p>
            </div>
            <div class="stat-card balance main-view">
                <h3>–ë–∞–ª–∞–Ω—Å</h3>
                <p id="totalBalance" class="amount">0 ‚ÇΩ</p>
            </div>

            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–ø–∏–ª–∫–∏ -->
            <div class="stat-card savings-income savings-view" style="display: none;">
                <h3>–ò–∑ –∫–æ–ø–∏–ª–∫–∏</h3>
                <p id="savingsIncome" class="amount">0 ‚ÇΩ</p>
            </div>
            <div class="stat-card savings-expense savings-view" style="display: none;">
                <h3>–í –∫–æ–ø–∏–ª–∫—É</h3>
                <p id="savingsExpense" class="amount">0 ‚ÇΩ</p>
            </div>
            <div class="stat-card savings-balance savings-view" style="display: none;">
                <h3>–ë–∞–ª–∞–Ω—Å –∫–æ–ø–∏–ª–∫–∏</h3>
                <p id="savingsBalance" class="amount">0 ‚ÇΩ</p>
            </div>
        </div>

        <div class="main-content">
            <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –§–æ—Ä–º—ã -->
            <div class="left-column">
                <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ -->
                <div class="card">
                    <h3>‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é</h3>
                    <form id="transactionForm" class="form">
                        <div class="form-group">
                            <label>–¢–∏–ø:</label>
                            <select id="transactionType" onchange="updateCategories()">
                                <option value="income">–î–æ—Ö–æ–¥</option>
                                <option value="expense" selected>–†–∞—Å—Ö–æ–¥</option>
                                <option value="savings_income">–ò–∑ –∫–æ–ø–∏–ª–∫–∏</option>
                                <option value="savings_expense">–í –∫–æ–ø–∏–ª–∫—É</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
                            <select id="categorySelect" required>
                                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>–°—É–º–º–∞:</label>
                            <input type="number" id="amount" step="0.01" min="0" required>
                        </div>
                        <div class="form-group">
                            <label>–î–∞—Ç–∞:</label>
                            <input type="date" id="date" required>
                        </div>
                        <div class="form-group">
                            <label>–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                            <input type="text" id="description" placeholder="–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ">
                        </div>
                        <button type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
                    </form>
                </div>

                <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
                <div class="card">
                    <h3>üè∑Ô∏è –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</h3>
                    <form id="categoryForm" class="form">
                        <div class="form-group">
                            <label>–ù–∞–∑–≤–∞–Ω–∏–µ:</label>
                            <input type="text" id="categoryName" required>
                        </div>
                        <div class="form-group">
                            <label>–¢–∏–ø:</label>
                            <select id="categoryType">
                                <option value="income">–î–æ—Ö–æ–¥</option>
                                <option value="expense" selected>–†–∞—Å—Ö–æ–¥</option>
                                <option value="savings_income">–ò–∑ –∫–æ–ø–∏–ª–∫–∏</option>
                                <option value="savings_expense">–í –∫–æ–ø–∏–ª–∫—É</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>–¶–≤–µ—Ç:</label>
                            <input type="color" id="categoryColor" value="#007bff">
                        </div>
                        <button type="submit">–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</button>
                    </form>
                </div>
            </div>

            <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –î–∞–Ω–Ω—ã–µ -->
            <div class="right-column">
                <!-- –ì—Ä–∞—Ñ–∏–∫–∏ –æ—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
                <div class="card main-view">
                    <h3>üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞</h3>
                    <div class="chart-container">
                        <canvas id="categoryChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <canvas id="dailyChart"></canvas>
                    </div>
                </div>

                <!-- –ì—Ä–∞—Ñ–∏–∫–∏ –∫–æ–ø–∏–ª–∫–∏ -->
                <div class="card savings-view" style="display: none;">
                    <h3>üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∫–æ–ø–∏–ª–∫–∏</h3>
                    <div class="chart-container">
                        <canvas id="savingsCategoryChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <canvas id="savingsDailyChart"></canvas>
                    </div>
                </div>

                <!-- –°–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π -->
                <div class="card">
                    <h3>üìã –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</h3>
                    <div id="transactionsList" class="transactions-list">
                        <!-- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                    </div>
                </div>

                <!-- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º -->
                <div class="card main-view">
                    <h3>üè∑Ô∏è –ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</h3>
                    <div id="categoryAnalytics" class="category-analytics">
                        <!-- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
                    </div>
                </div>

                <!-- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∫–æ–ø–∏–ª–∫–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º -->
                <div class="card savings-view" style="display: none;">
                    <h3>üè∑Ô∏è –ö–æ–ø–∏–ª–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</h3>
                    <div id="savingsCategoryAnalytics" class="category-analytics">
                        <!-- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∫–æ–ø–∏–ª–∫–∏ –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>